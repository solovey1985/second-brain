# Розрахунок лінійного AC→DC блока живлення на трансформаторі

Документ-«шпаргалка» для проєктування простого блока живлення:
мережа 230 В AC → трансформатор → діодний міст → фільтрувальний конденсатор → навантаження (DC).

---

## 1. Вхідні дані (що задаєш ти)

Для розрахунку задаємо:

- Бажана вихідна напруга (після фільтра):  
  $$
  U_{\text{DC,nom}} \;[\text{В}]
  $$
- Максимальний вихідний струм:  
  $$
  I_{\text{DC,max}} \;[\text{А}]
  $$
- Допустима амплітуда пульсацій (різниця між мінімумом і максимумом на конденсаторі):  
  $$
  \Delta U \;[\text{В}]
  $$
- Частота мережі:  
  $$
  f_{\text{мережі}} = 50 \text{ Гц} \quad \Rightarrow \quad f_{\text{пульсацій}} = 2 f_{\text{мережі}} = 100 \text{ Гц}
  $$

---

## 2. Напруга вторинної обмотки трансформатора

Після випрямлення й конденсатора напруга приблизно:

$$
U_{\text{DC,без навантаження}} \approx \sqrt{2} \cdot U_{\text{AC}} - 2 \cdot U_D
$$

де:
- $U_{\text{AC}}$ — напруга вторинної обмотки в RMS (номінал трансформатора),
- $U_D$ — падіння напруги на **одному** діоді (≈0.7…1.0 В для силових діодів),
- у мостовому випрямлячі **послідовно два діоди** → мінус $2 \cdot U_D$.

Зворотна задача (знайти $U_{\text{AC}}$ для заданого $U_{\text{DC,nom}}$):

$$
U_{\text{AC}} \approx \frac{U_{\text{DC,nom}} + 2 U_D}{\sqrt{2}}
$$

Практично:
- розрахуй $U_{\text{AC}}$ за формулою;
- вибери **найближчий стандартний більший номінал** трансформатора (наприклад, 35 В → 36 В).

> Приклад (для 48 В DC):  
> $U_D \approx 0.7 \text{ В} \Rightarrow 2 U_D \approx 1.4 \text{ В}$  
> $$
> U_{\text{AC}} \approx \frac{48 + 1.4}{\sqrt{2}} \approx 34.9 \text{ В} \Rightarrow \text{трансформатор } 36 \text{ В}
> $$

---

## 3. Зв’язок струмів: AC ↔ DC

Для мостового випрямляча з ємнісним фільтром діє наближене правило:

$$
I_{\text{AC,sec}} \approx 1.8 \cdot I_{\text{DC}}
$$

де:
- $I_{\text{AC,sec}}$ — струм вторинної обмотки трансформатора,
- $I_{\text{DC}}$ — середній струм навантаження.

Звідси максимальний DC-струм, який можна зняти з трансформатора:

$$
I_{\text{DC,max}} \approx \frac{I_{\text{AC,sec,ном}}}{1.8}
$$

---

## 4. Потужність трансформатора (ВА)

Номінальна потужність трансформатора:

$$
S_{\text{транс}} \approx U_{\text{AC}} \cdot I_{\text{AC,sec,ном}} \;[\text{ВА}]
$$

Якщо ти хочеш мати на виході:

$$
P_{\text{out}} = U_{\text{DC,nom}} \cdot I_{\text{DC,max}}
$$

і знаєш, що ККД всього вузла (трансформатор + міст + втрати) приблизно:

$$
\eta \approx 0.8
$$

то:

$$
S_{\text{транс}} \approx \frac{P_{\text{out}}}{\eta}
$$

> Приклад (48 В, 1 А → 48 Вт):  
> $$
> S_{\text{транс}} \approx \frac{48}{0.8} = 60 \text{ ВА}
> $$  
> Практично вибрати: 60–80 ВА (із запасом).

---

## 5. Вибір діодного моста

### Струм

Струм моста:
- середній DC-струм: $I_{\text{DC,max}}$,
- але короткочасні **пікові** струми зарядки конденсатора значно більші.

Практична рекомендація:
- номінальний струм моста $I_{\text{моста,ном}}$ ≥ $(1.5…2) \cdot I_{\text{DC,max}}$.

### Напруга

Пікова напруга після трансформатора:

$$
U_{\text{peak}} \approx \sqrt{2} \cdot U_{\text{AC}}
$$

Рекомендована зворотна напруга моста:

$$
U_{\text{RRM,моста}} \ge 3 \cdot U_{\text{peak}} \quad \text{(як мінімум ≥ 200 В)}
$$

Для трансформаторів до 36 В RMS зазвичай достатньо:
- мости на **200–400 В**, **2–4 А**.

---

## 6. Розрахунок фільтрувального конденсатора

Наближена формула для амплітуди пульсацій:

$$
\Delta U \approx \frac{I_{\text{DC}}}{2 f_{\text{мережі}} C}
$$

Звідси:

$$
C \approx \frac{I_{\text{DC}}}{2 f_{\text{мережі}} \Delta U}
$$

де:
- $I_{\text{DC}}$ — струм навантаження,
- $f_{\text{мережі}} = 50 \text{ Гц}$,
- $2 f_{\text{мережі}} = 100 \text{ Гц}$ — частота пульсацій після мосту,
- $\Delta U$ — бажана амплітуда пульсацій.

> Приклад: 48 В, 1 А, допустима пульсація 5 В  
> $$
> C \approx \frac{1}{2 \cdot 50 \cdot 5} = \frac{1}{500} = 0.002 \text{ Ф}
> $$
> $$
> C = 0.002 \text{ Ф} = 2000 \mu\text{F}
> $$

### Практичні зауваження по конденсатору

- Робоча напруга конденсатора:
  $$
  U_{\text{роб}} \ge U_{\text{DC,макс}} \cdot 1.2
  $$
  Наприклад: 48–50 В → конденсатор на **63 В**.
- Важливий параметр: **ripple current** (допустимий струм пульсацій) — має бути ≥ реального струму.

---

## 7. Потужність на основних вузлах

### 7.1. Навантаження

$$
P_{\text{out}} = U_{\text{DC}} \cdot I_{\text{DC}}
$$

### 7.2. Втрати на мості

Приблизно:
- падіння на **двох діодах**:  
  $$
  U_{\text{drop,bridge}} \approx 2 \cdot U_D \approx 1.4 \text{ В} \text{ (або до 1.8 В для потужних)}
  $$
- втрати:
  $$
  P_{\text{bridge}} \approx U_{\text{drop,bridge}} \cdot I_{\text{DC}}
  $$

> Приклад: $U_{\text{drop}} = 1.8 \text{ В}, I_{\text{DC}} = 1 \text{ А} \Rightarrow P_{\text{bridge}} \approx 1.8 \text{ Вт}$

### 7.3. Трансформатор

Втрати трансформатора (мідь + залізо) можна грубо оцінити з ККД:

$$
P_{\text{loss,trans}} \approx P_{\text{in}} - P_{\text{out}}
$$

де:
$$
P_{\text{in}} \approx \frac{P_{\text{out}}}{\eta}
$$

---

## 8. Захист і додаткові елементи

Мінімальний набір:

1. **Запобіжник по первинній обмотці трансформатора**
   - номінал підбирається під споживаний струм + запас;
   - ставиться якомога ближче до входу.

2. **Варистор по входу (230 В AC)**
   - для захисту від імпульсних перенапруг;
   - типово варистор на 275 VAC.

3. **NTC-термістор (inrush current limiter)** по первинній стороні
   - обмежує пускові струми зарядки великого конденсатора.

4. **Запобіжник / захист по виходу**
   - плавкий запобіжник або самовідновлюваний PTC;
   - обмеження струму в разі КЗ на виході.

---

## 9. Короткий алгоритм розрахунку

1. Задай:
   - $U_{\text{DC,nom}}$,  
   - $I_{\text{DC,max}}$,  
   - $\Delta U$.

2. Обчисли $U_{\text{AC}}$:
   $$
   U_{\text{AC}} \approx \frac{U_{\text{DC,nom}} + 2 U_D}{\sqrt{2}}
   $$
   → вибери **стандартний більший номінал** (наприклад, 36 В замість 35 В).

3. Оціни $P_{\text{out}}$:
   $$
   P_{\text{out}} = U_{\text{DC,nom}} \cdot I_{\text{DC,max}}
   $$

4. Оціни мінімальну потужність трансформатора:
   $$
   S_{\text{транс,min}} \approx \frac{P_{\text{out}}}{\eta} \quad (\eta \approx 0.8)
   $$
   → додай запас, вибери **ближчий більший тип** (60, 80, 100 ВА…).

5. Перевір по струму:
   - знайди $I_{\text{AC,sec,ном}} = \dfrac{S_{\text{транс}}}{U_{\text{AC}}}$,
   - оціни максимально можливий $I_{\text{DC,max,реальний}} \approx \dfrac{I_{\text{AC,sec,ном}}}{1.8}$;
   - переконайся, що він ≥ твого запланованого $I_{\text{DC,max}}$.

6. Розрахуй конденсатор:
   $$
   C \approx \frac{I_{\text{DC,max}}}{2 f_{\text{мережі}} \Delta U}
   $$
   → вибери стандартний номінал **не менший**, перевір напругу (63 В, 100 В…).

7. Підбери діодний міст:
   - струм: $I_{\text{моста,ном}} \ge (1.5…2)\cdot I_{\text{DC,max}}$;
   - напруга: $U_{\text{RRM}} \ge 3 \cdot \sqrt{2} \cdot U_{\text{AC}}$ (мінімум 200 В, краще 400 В).

8. Додай елементи захисту:
   - запобіжник по входу,
   - варистор 275 VAC,
   - NTC по входу,
   - запобіжник / PTC по виходу.

---

## 10. Приклад (швидка шпаргалка для 48 В / 1 А)

- $U_{\text{DC,nom}} = 48 \text{ В}$
- $I_{\text{DC,max}} = 1 \text{ А}$
- $\Delta U = 5 \text{ В}$

1. $U_{\text{AC}} \approx 35 \text{ В} \Rightarrow \text{трансформатор } 36 \text{ В}$
2. $P_{\text{out}} = 48 \cdot 1 = 48 \text{ Вт}$
3. $S_{\text{транс,min}} \approx 48 / 0.8 = 60 \text{ ВА} \Rightarrow \text{вибрати } 60–80 \text{ ВА}$
4. $C \approx 1 / (2 \cdot 50 \cdot 5) = 0.002 \text{ Ф} = 2000 \mu\text{F}$ → практично 2200–4700 µF / 63 В.
5. Діодний міст:  
   - струм: ≥2 А  
   - напруга: ≥200–400 В (типово 4 А / 400 В).

Цей шаблон можна застосувати до **будь-якого** лінійного AC→DC блока живлення з мостом і конденсатором, просто підставляючи свої $U_{\text{DC,nom}}$, $I_{\text{DC,max}}$ та $\Delta U$.
